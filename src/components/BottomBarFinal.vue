<template>
  <div class="bottom-bar">
    <span class="bottom-bar-text">{{ props.text }}</span>


    <svg v-show="!props.ok" title="未就绪" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" width="50" height="50" style="" filter="none">

      <g>
        <path
          d="M24.514 10.81l0.232 0.224c0.202 0.195 0.187 0.505-0.024 0.71l-10.103 9.778c-0.314 0.304-0.83 0.291-1.154-0.022l-4.404-4.262c-0.2-0.193-0.232-0.494-0.056-0.709l0.412-0.503c0.169-0.206 0.484-0.258 0.707-0.114l3.562 2.305c0.188 0.122 0.511 0.106 0.687-0.032l9.414-7.402c0.212-0.166 0.543-0.152 0.728 0.027z"
          fill="rgba(206,206,206,1)"></path>
        <path
          d="M16 28.444c6.873 0 12.444-5.572 12.444-12.444s-5.572-12.444-12.444-12.444c-6.873 0-12.444 5.572-12.444 12.444s5.572 12.444 12.444 12.444zM16 30.222c-7.855 0-14.222-6.367-14.222-14.222s6.367-14.222 14.222-14.222 14.222 6.367 14.222 14.222-6.367 14.222-14.222 14.222z"
          fill="rgba(206,206,206,1)"></path>
      </g>
    </svg>

    <svg class="breathing-effect" v-show="props.ok" v-on:click="doIt" title="已就绪"
      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" width="50"
      height="50" style="" filter="none">

      <g>
        <path
          d="M24.514 10.81l0.232 0.224c0.202 0.195 0.187 0.505-0.024 0.71l-10.103 9.778c-0.314 0.304-0.83 0.291-1.154-0.022l-4.404-4.262c-0.2-0.193-0.232-0.494-0.056-0.709l0.412-0.503c0.169-0.206 0.484-0.258 0.707-0.114l3.562 2.305c0.188 0.122 0.511 0.106 0.687-0.032l9.414-7.402c0.212-0.166 0.543-0.152 0.728 0.027z"
          fill="rgba(84,188,189,1)"></path>
        <path
          d="M16 28.444c6.873 0 12.444-5.572 12.444-12.444s-5.572-12.444-12.444-12.444c-6.873 0-12.444 5.572-12.444 12.444s5.572 12.444 12.444 12.444zM16 30.222c-7.855 0-14.222-6.367-14.222-14.222s6.367-14.222 14.222-14.222 14.222 6.367 14.222 14.222-6.367 14.222-14.222 14.222z"
          fill="rgba(84,188,189,1)"></path>
      </g>
    </svg>


  </div>
</template>

<script lang="ts" setup>

import confetti from 'canvas-confetti';

const props = defineProps(['ok', 'text'])
const emit = defineEmits<{
  (e: 'go'): void
}>()

const doIt = () => {
  confetti({
    particleCount: 100,
    spread: 70,
    origin: { y: 0.7, x:0.7 }
  });
  emit('go');
}
</script>

<style scoped>
.back {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem;
}

.icon {
  width: 1.5rem;
  height: 1.5rem;
}

.bottom-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 2rem;
  padding-bottom: 5rem;
}

.bottom-bar-text {
  font-size: 1rem;
  font-weight: bold;
  color: #6C6C6C;
}
</style>
